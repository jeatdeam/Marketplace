extends layout
block content
    section.compraPage
        if carrito && carrito.length
            div
                h1 Carrito de Compras
                button.deleteAllProducts borrar todo
            section.productsAndPay
                section.containerElementsCompra
                    each item,indice in carrito
                        if(1)
                            div(class=`compraElement compraElement_${indice+1}`, data-id=item.id, data-id-compra=item.idCompra, data-brand=item.brand, data-img=item.img, data-price=item.price, data-name=item.name)
                                    img(src=item.img, alt=item.brand)
                                    h3= item.brand
                                    span= item.name
                                    p
                                        b Precio:
                                        small  $#{item.price}
                                    div#deleteElementCompra(data-id-compra=item.idCompra)
                                        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg>
                                    div.controllerCountProducts
                                        svg(id="arrowLeft" data-id-compra=item.idCompra xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#999999")
                                         path(d="M200-440v-80h560v80H200Z")
                                        div.contadorElementsCompra
                                            small 0
                                        svg(id="arrowRight" data-id=item.id data-brand=item.brand data-img=item.img data-price=item.price, data-name=item.name xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#999999")
                                         path(d="M440-440H200v-80h240v-240h80v240h240v80H520v240h-80v-240Z")
                section.pasarelaPago
                    form#myForm
                        div.titleForm
                            h1 Datos de envio
                            button Recojo en tienda
                        div.messagePay
                            hr
                            small Rellene los campos para envios a Lima y provincias
                            hr
                        div.emailPay
                            h3 Email
                            input(type="email", name="correo", placeholder="ingrese su correo electronico", required)
                        div.detailCard
                            h3  Información del cliente
                            input(type="text", name="nombre", placeholder="nombre y apellidos", required)
                            div
                                input(type="tel", name="firtsPhone", placeholder="numero telefonico", required )
                                input(type="tel", name="secondPhone", placeholder="numero telefonico alternativo")
                        div.nameUser
                            h3 Dirección
                            input(type="text", name="direccion", placeholder="ingrese su direccion", required)
                        div.nameCountry
                            h3 Region de envio
                            div.region
                                input(type="text", name="departamento", placeholder="departamento", required)
                                input(type="text", name="distrito", placeholder="distrito", required)
                            textarea(name="infoExtra", placeholder="detalles adicionales como croquis o referencias")
                        div.couriersContainer
                            h3 Courier
                            div.couriers
                                button(type="button", data-empresa="shalom") shalom
                                button(type="button", data-empresa="olva") olva courier
                                button(type="button", data-empresa="dinocourier") dinocourier
                                button(type="button", data-empresa="otros") otros
                            textarea(name="infoCourier", placeholder="", required)
                        button(type="submit") continuar
                template#qrTemplate
                    section.containerYapePlin
                        div.textContainer
                            h1 Escoja el medio de pago
                            h1
                        div.boxYapePlin
                            div.yape
                            div.plin
                        button Generar codigo de pago
                        <svg class="deleteYapePlin" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#999999"><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg>
                        <svg class="returnYapePlin" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#999999"><path d="M240-240v-480h80v480h-80Zm440 0L440-480l240-240 56 56-184 184 184 184-56 56Z"/></svg>
                template#checkDatos
                    div.containerCheck
                        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#999999"><path d="m424-296 282-282-56-56-226 226-114-114-56 56 170 170Zm56 216q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>
                        h2 Datos validados
            hr
            section.buttonsFinalizar
                h2.totalCompra Total: $#{carrito.reduce((sum, item) => sum + item.price, 0)}
                button#formularioEnvio Rellenar Datos
                button#payCard pagar con tarjeta
                button#payVirtualWallet pagar con billeteras digital
        else
            h2(style="text-align:center;") El carrito está vacío.

